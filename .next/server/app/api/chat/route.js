/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_claraeverett_Desktop_perplexity_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/Users/claraeverett/Desktop/perplexity/src/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_claraeverett_Desktop_perplexity_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNsYXJhZXZlcmV0dCUyRkRlc2t0b3AlMkZwZXJwbGV4aXR5JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmNsYXJhZXZlcmV0dCUyRkRlc2t0b3AlMkZwZXJwbGV4aXR5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2NsYXJhZXZlcmV0dC9EZXNrdG9wL3BlcnBsZXhpdHkvc3JjL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvY2xhcmFldmVyZXR0L0Rlc2t0b3AvcGVycGxleGl0eS9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/openai */ \"(rsc)/./src/lib/openai.ts\");\n/* harmony import */ var _lib_pinecone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/pinecone */ \"(rsc)/./src/lib/pinecone.ts\");\n\n\n\nconst SYSTEM_PROMPT = `You are a research assistant analyzing scientific papers. \nProvide clear insights and connections between papers. Focus on:\n- Key findings and contributions\n- Relationships between papers\n- Research implications\n- Potential future directions\n\nBase your analysis only on the provided papers and their content.`;\nasync function POST(req) {\n    try {\n        const { query } = await req.json();\n        // Search vector store\n        const searchResults = await (0,_lib_pinecone__WEBPACK_IMPORTED_MODULE_2__.queryVectorStore)(query, 5);\n        if (!searchResults.length) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'No relevant papers found for your query'\n            }, {\n                status: 404\n            });\n        }\n        // Format papers for GPT\n        const papers = searchResults.map((result)=>{\n            if (!result.metadata) {\n                throw new Error('Paper metadata is missing');\n            }\n            // Ensure we have a valid URL for the paper\n            let paperUrl = result.metadata.url;\n            if (!paperUrl && result.metadata.paperId) {\n                // If we have a paperId but no URL, construct the arXiv URL\n                paperUrl = `https://arxiv.org/abs/${result.metadata.paperId}`;\n            } else if (!paperUrl) {\n                // If we have neither, create a search URL\n                const title = Array.isArray(result.metadata.title) ? result.metadata.title[0] : result.metadata.title;\n                paperUrl = `https://arxiv.org/search/?query=${encodeURIComponent(title)}&searchtype=title`;\n            }\n            // Ensure all metadata fields are in the correct format\n            const title = Array.isArray(result.metadata.title) ? result.metadata.title[0] : result.metadata.title;\n            const authors = Array.isArray(result.metadata.authors) ? result.metadata.authors : [\n                result.metadata.authors\n            ].filter(Boolean);\n            const categories = Array.isArray(result.metadata.categories) ? result.metadata.categories : [\n                result.metadata.categories\n            ].filter(Boolean);\n            return {\n                id: result.metadata.paperId || '',\n                url: paperUrl,\n                title,\n                authors,\n                summary: result.metadata.summary || '',\n                content: result.metadata.content || '',\n                categories,\n                published: result.metadata.published\n            };\n        });\n        // Create messages for chat completion\n        const messages = [\n            {\n                role: 'system',\n                content: SYSTEM_PROMPT\n            },\n            {\n                role: 'user',\n                content: `Here is the user's query: \"${query}\"\n\nHere are the relevant papers:\n\n${papers.map((paper, index)=>`\n[${index + 1}] \"${paper.title}\"\nAuthors: ${paper.authors.join(', ')}\nURL: ${paper.url}\nSummary: ${paper.summary}\n`).join('\\n')}\n\nPlease analyze these papers in relation to the query. Focus on the key findings, relationships between papers, and research implications.`\n            }\n        ];\n        // Get chat completion from OpenAI\n        const chatCompletion = await _lib_openai__WEBPACK_IMPORTED_MODULE_1__.openai.chat.completions.create({\n            messages: messages,\n            model: 'gpt-4-1106-preview',\n            temperature: 0.7,\n            max_tokens: 1000\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            answer: chatCompletion.choices[0].message.content,\n            papers: papers.map((paper)=>({\n                    id: paper.id,\n                    url: paper.url,\n                    title: paper.title,\n                    abstract: paper.summary,\n                    authors: paper.authors,\n                    categories: paper.categories,\n                    published: paper.published\n                }))\n        });\n    } catch (error) {\n        console.error('Error in chat route:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || 'An error occurred'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDTDtBQUNZO0FBRWxELE1BQU1HLGdCQUFnQixDQUFDOzs7Ozs7O2lFQU8wQyxDQUFDO0FBRTNELGVBQWVDLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUQsSUFBSUUsSUFBSTtRQUVoQyxzQkFBc0I7UUFDdEIsTUFBTUMsZ0JBQWdCLE1BQU1OLCtEQUFnQkEsQ0FBQ0ksT0FBTztRQUVwRCxJQUFJLENBQUNFLGNBQWNDLE1BQU0sRUFBRTtZQUN6QixPQUFPVCxxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtnQkFBRUcsT0FBTztZQUEwQyxHQUNuRDtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsd0JBQXdCO1FBQ3hCLE1BQU1DLFNBQVNKLGNBQWNLLEdBQUcsQ0FBQ0MsQ0FBQUE7WUFDL0IsSUFBSSxDQUFDQSxPQUFPQyxRQUFRLEVBQUU7Z0JBQ3BCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLDJDQUEyQztZQUMzQyxJQUFJQyxXQUFXSCxPQUFPQyxRQUFRLENBQUNHLEdBQUc7WUFDbEMsSUFBSSxDQUFDRCxZQUFZSCxPQUFPQyxRQUFRLENBQUNJLE9BQU8sRUFBRTtnQkFDeEMsMkRBQTJEO2dCQUMzREYsV0FBVyxDQUFDLHNCQUFzQixFQUFFSCxPQUFPQyxRQUFRLENBQUNJLE9BQU8sRUFBRTtZQUMvRCxPQUFPLElBQUksQ0FBQ0YsVUFBVTtnQkFDcEIsMENBQTBDO2dCQUMxQyxNQUFNRyxRQUFRQyxNQUFNQyxPQUFPLENBQUNSLE9BQU9DLFFBQVEsQ0FBQ0ssS0FBSyxJQUM3Q04sT0FBT0MsUUFBUSxDQUFDSyxLQUFLLENBQUMsRUFBRSxHQUN4Qk4sT0FBT0MsUUFBUSxDQUFDSyxLQUFLO2dCQUN6QkgsV0FBVyxDQUFDLGdDQUFnQyxFQUFFTSxtQkFBbUJILE9BQU8saUJBQWlCLENBQUM7WUFDNUY7WUFFQSx1REFBdUQ7WUFDdkQsTUFBTUEsUUFBUUMsTUFBTUMsT0FBTyxDQUFDUixPQUFPQyxRQUFRLENBQUNLLEtBQUssSUFDN0NOLE9BQU9DLFFBQVEsQ0FBQ0ssS0FBSyxDQUFDLEVBQUUsR0FDeEJOLE9BQU9DLFFBQVEsQ0FBQ0ssS0FBSztZQUN6QixNQUFNSSxVQUFVSCxNQUFNQyxPQUFPLENBQUNSLE9BQU9DLFFBQVEsQ0FBQ1MsT0FBTyxJQUNqRFYsT0FBT0MsUUFBUSxDQUFDUyxPQUFPLEdBQ3ZCO2dCQUFDVixPQUFPQyxRQUFRLENBQUNTLE9BQU87YUFBQyxDQUFDQyxNQUFNLENBQUNDO1lBQ3JDLE1BQU1DLGFBQWFOLE1BQU1DLE9BQU8sQ0FBQ1IsT0FBT0MsUUFBUSxDQUFDWSxVQUFVLElBQ3ZEYixPQUFPQyxRQUFRLENBQUNZLFVBQVUsR0FDMUI7Z0JBQUNiLE9BQU9DLFFBQVEsQ0FBQ1ksVUFBVTthQUFDLENBQUNGLE1BQU0sQ0FBQ0M7WUFFeEMsT0FBTztnQkFDTEUsSUFBSWQsT0FBT0MsUUFBUSxDQUFDSSxPQUFPLElBQUk7Z0JBQy9CRCxLQUFLRDtnQkFDTEc7Z0JBQ0FJO2dCQUNBSyxTQUFTZixPQUFPQyxRQUFRLENBQUNjLE9BQU8sSUFBSTtnQkFDcENDLFNBQVNoQixPQUFPQyxRQUFRLENBQUNlLE9BQU8sSUFBSTtnQkFDcENIO2dCQUNBSSxXQUFXakIsT0FBT0MsUUFBUSxDQUFDZ0IsU0FBUztZQUN0QztRQUNGO1FBRUEsc0NBQXNDO1FBQ3RDLE1BQU1DLFdBQVc7WUFDZjtnQkFBRUMsTUFBTTtnQkFBVUgsU0FBUzNCO1lBQWM7WUFDekM7Z0JBQ0U4QixNQUFNO2dCQUNOSCxTQUFTLENBQUMsMkJBQTJCLEVBQUV4QixNQUFNOzs7O0FBSXJELEVBQUVNLE9BQU9DLEdBQUcsQ0FBQyxDQUFDcUIsT0FBT0MsUUFBVSxDQUFDO0NBQy9CLEVBQUVBLFFBQVEsRUFBRSxHQUFHLEVBQUVELE1BQU1kLEtBQUssQ0FBQztTQUNyQixFQUFFYyxNQUFNVixPQUFPLENBQUNZLElBQUksQ0FBQyxNQUFNO0tBQy9CLEVBQUVGLE1BQU1oQixHQUFHLENBQUM7U0FDUixFQUFFZ0IsTUFBTUwsT0FBTyxDQUFDO0FBQ3pCLENBQUMsRUFBRU8sSUFBSSxDQUFDLE1BQU07O3lJQUUySCxDQUFDO1lBQ3BJO1NBQ0Q7UUFFRCxrQ0FBa0M7UUFDbEMsTUFBTUMsaUJBQWlCLE1BQU1wQywrQ0FBTUEsQ0FBQ3FDLElBQUksQ0FBQ0MsV0FBVyxDQUFDQyxNQUFNLENBQUM7WUFDMURSLFVBQVVBO1lBQ1ZTLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxZQUFZO1FBQ2Q7UUFFQSxPQUFPM0MscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QnFDLFFBQVFQLGVBQWVRLE9BQU8sQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQ2hCLE9BQU87WUFDakRsQixRQUFRQSxPQUFPQyxHQUFHLENBQUNxQixDQUFBQSxRQUFVO29CQUMzQk4sSUFBSU0sTUFBTU4sRUFBRTtvQkFDWlYsS0FBS2dCLE1BQU1oQixHQUFHO29CQUNkRSxPQUFPYyxNQUFNZCxLQUFLO29CQUNsQjJCLFVBQVViLE1BQU1MLE9BQU87b0JBQ3ZCTCxTQUFTVSxNQUFNVixPQUFPO29CQUN0QkcsWUFBWU8sTUFBTVAsVUFBVTtvQkFDNUJJLFdBQVdHLE1BQU1ILFNBQVM7Z0JBQzVCO1FBQ0Y7SUFDRixFQUFFLE9BQU9yQixPQUFZO1FBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU9WLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVHLE9BQU9BLE1BQU1vQyxPQUFPLElBQUk7UUFBb0IsR0FDOUM7WUFBRW5DLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvY2xhcmFldmVyZXR0L0Rlc2t0b3AvcGVycGxleGl0eS9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0AvbGliL29wZW5haSc7XG5pbXBvcnQgeyBxdWVyeVZlY3RvclN0b3JlIH0gZnJvbSAnQC9saWIvcGluZWNvbmUnO1xuXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgYSByZXNlYXJjaCBhc3Npc3RhbnQgYW5hbHl6aW5nIHNjaWVudGlmaWMgcGFwZXJzLiBcblByb3ZpZGUgY2xlYXIgaW5zaWdodHMgYW5kIGNvbm5lY3Rpb25zIGJldHdlZW4gcGFwZXJzLiBGb2N1cyBvbjpcbi0gS2V5IGZpbmRpbmdzIGFuZCBjb250cmlidXRpb25zXG4tIFJlbGF0aW9uc2hpcHMgYmV0d2VlbiBwYXBlcnNcbi0gUmVzZWFyY2ggaW1wbGljYXRpb25zXG4tIFBvdGVudGlhbCBmdXR1cmUgZGlyZWN0aW9uc1xuXG5CYXNlIHlvdXIgYW5hbHlzaXMgb25seSBvbiB0aGUgcHJvdmlkZWQgcGFwZXJzIGFuZCB0aGVpciBjb250ZW50LmA7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgcXVlcnkgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgXG4gICAgLy8gU2VhcmNoIHZlY3RvciBzdG9yZVxuICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBxdWVyeVZlY3RvclN0b3JlKHF1ZXJ5LCA1KTtcbiAgICBcbiAgICBpZiAoIXNlYXJjaFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdObyByZWxldmFudCBwYXBlcnMgZm91bmQgZm9yIHlvdXIgcXVlcnknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGb3JtYXQgcGFwZXJzIGZvciBHUFRcbiAgICBjb25zdCBwYXBlcnMgPSBzZWFyY2hSZXN1bHRzLm1hcChyZXN1bHQgPT4ge1xuICAgICAgaWYgKCFyZXN1bHQubWV0YWRhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXBlciBtZXRhZGF0YSBpcyBtaXNzaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgVVJMIGZvciB0aGUgcGFwZXJcbiAgICAgIGxldCBwYXBlclVybCA9IHJlc3VsdC5tZXRhZGF0YS51cmw7XG4gICAgICBpZiAoIXBhcGVyVXJsICYmIHJlc3VsdC5tZXRhZGF0YS5wYXBlcklkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwYXBlcklkIGJ1dCBubyBVUkwsIGNvbnN0cnVjdCB0aGUgYXJYaXYgVVJMXG4gICAgICAgIHBhcGVyVXJsID0gYGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8ke3Jlc3VsdC5tZXRhZGF0YS5wYXBlcklkfWA7XG4gICAgICB9IGVsc2UgaWYgKCFwYXBlclVybCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5laXRoZXIsIGNyZWF0ZSBhIHNlYXJjaCBVUkxcbiAgICAgICAgY29uc3QgdGl0bGUgPSBBcnJheS5pc0FycmF5KHJlc3VsdC5tZXRhZGF0YS50aXRsZSkgXG4gICAgICAgICAgPyByZXN1bHQubWV0YWRhdGEudGl0bGVbMF0gXG4gICAgICAgICAgOiByZXN1bHQubWV0YWRhdGEudGl0bGU7XG4gICAgICAgIHBhcGVyVXJsID0gYGh0dHBzOi8vYXJ4aXYub3JnL3NlYXJjaC8/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQodGl0bGUpfSZzZWFyY2h0eXBlPXRpdGxlYDtcbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIGFsbCBtZXRhZGF0YSBmaWVsZHMgYXJlIGluIHRoZSBjb3JyZWN0IGZvcm1hdFxuICAgICAgY29uc3QgdGl0bGUgPSBBcnJheS5pc0FycmF5KHJlc3VsdC5tZXRhZGF0YS50aXRsZSkgXG4gICAgICAgID8gcmVzdWx0Lm1ldGFkYXRhLnRpdGxlWzBdIFxuICAgICAgICA6IHJlc3VsdC5tZXRhZGF0YS50aXRsZTtcbiAgICAgIGNvbnN0IGF1dGhvcnMgPSBBcnJheS5pc0FycmF5KHJlc3VsdC5tZXRhZGF0YS5hdXRob3JzKSBcbiAgICAgICAgPyByZXN1bHQubWV0YWRhdGEuYXV0aG9ycyBcbiAgICAgICAgOiBbcmVzdWx0Lm1ldGFkYXRhLmF1dGhvcnNdLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBBcnJheS5pc0FycmF5KHJlc3VsdC5tZXRhZGF0YS5jYXRlZ29yaWVzKSBcbiAgICAgICAgPyByZXN1bHQubWV0YWRhdGEuY2F0ZWdvcmllcyBcbiAgICAgICAgOiBbcmVzdWx0Lm1ldGFkYXRhLmNhdGVnb3JpZXNdLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJlc3VsdC5tZXRhZGF0YS5wYXBlcklkIHx8ICcnLFxuICAgICAgICB1cmw6IHBhcGVyVXJsLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgYXV0aG9ycyxcbiAgICAgICAgc3VtbWFyeTogcmVzdWx0Lm1ldGFkYXRhLnN1bW1hcnkgfHwgJycsXG4gICAgICAgIGNvbnRlbnQ6IHJlc3VsdC5tZXRhZGF0YS5jb250ZW50IHx8ICcnLFxuICAgICAgICBjYXRlZ29yaWVzLFxuICAgICAgICBwdWJsaXNoZWQ6IHJlc3VsdC5tZXRhZGF0YS5wdWJsaXNoZWRcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgbWVzc2FnZXMgZm9yIGNoYXQgY29tcGxldGlvblxuICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogU1lTVEVNX1BST01QVCB9LFxuICAgICAge1xuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQ6IGBIZXJlIGlzIHRoZSB1c2VyJ3MgcXVlcnk6IFwiJHtxdWVyeX1cIlxuXG5IZXJlIGFyZSB0aGUgcmVsZXZhbnQgcGFwZXJzOlxuXG4ke3BhcGVycy5tYXAoKHBhcGVyLCBpbmRleCkgPT4gYFxuWyR7aW5kZXggKyAxfV0gXCIke3BhcGVyLnRpdGxlfVwiXG5BdXRob3JzOiAke3BhcGVyLmF1dGhvcnMuam9pbignLCAnKX1cblVSTDogJHtwYXBlci51cmx9XG5TdW1tYXJ5OiAke3BhcGVyLnN1bW1hcnl9XG5gKS5qb2luKCdcXG4nKX1cblxuUGxlYXNlIGFuYWx5emUgdGhlc2UgcGFwZXJzIGluIHJlbGF0aW9uIHRvIHRoZSBxdWVyeS4gRm9jdXMgb24gdGhlIGtleSBmaW5kaW5ncywgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHBhcGVycywgYW5kIHJlc2VhcmNoIGltcGxpY2F0aW9ucy5gLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgLy8gR2V0IGNoYXQgY29tcGxldGlvbiBmcm9tIE9wZW5BSVxuICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyBhcyBhbnksXG4gICAgICBtb2RlbDogJ2dwdC00LTExMDYtcHJldmlldycsXG4gICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgbWF4X3Rva2VuczogMTAwMCxcbiAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBhbnN3ZXI6IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50LFxuICAgICAgcGFwZXJzOiBwYXBlcnMubWFwKHBhcGVyID0+ICh7XG4gICAgICAgIGlkOiBwYXBlci5pZCxcbiAgICAgICAgdXJsOiBwYXBlci51cmwsXG4gICAgICAgIHRpdGxlOiBwYXBlci50aXRsZSxcbiAgICAgICAgYWJzdHJhY3Q6IHBhcGVyLnN1bW1hcnksXG4gICAgICAgIGF1dGhvcnM6IHBhcGVyLmF1dGhvcnMsXG4gICAgICAgIGNhdGVnb3JpZXM6IHBhcGVyLmNhdGVnb3JpZXMsXG4gICAgICAgIHB1Ymxpc2hlZDogcGFwZXIucHVibGlzaGVkXG4gICAgICB9KSlcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNoYXQgcm91dGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0FuIGVycm9yIG9jY3VycmVkJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJvcGVuYWkiLCJxdWVyeVZlY3RvclN0b3JlIiwiU1lTVEVNX1BST01QVCIsIlBPU1QiLCJyZXEiLCJxdWVyeSIsImpzb24iLCJzZWFyY2hSZXN1bHRzIiwibGVuZ3RoIiwiZXJyb3IiLCJzdGF0dXMiLCJwYXBlcnMiLCJtYXAiLCJyZXN1bHQiLCJtZXRhZGF0YSIsIkVycm9yIiwicGFwZXJVcmwiLCJ1cmwiLCJwYXBlcklkIiwidGl0bGUiLCJBcnJheSIsImlzQXJyYXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhdXRob3JzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImNhdGVnb3JpZXMiLCJpZCIsInN1bW1hcnkiLCJjb250ZW50IiwicHVibGlzaGVkIiwibWVzc2FnZXMiLCJyb2xlIiwicGFwZXIiLCJpbmRleCIsImpvaW4iLCJjaGF0Q29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwiYW5zd2VyIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJhYnN0cmFjdCIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/cache.ts":
/*!**************************!*\
  !*** ./src/lib/cache.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCache: () => (/* binding */ clearCache),\n/* harmony export */   clearClientCache: () => (/* binding */ clearClientCache),\n/* harmony export */   generateCacheKey: () => (/* binding */ generateCacheKey),\n/* harmony export */   getCachedData: () => (/* binding */ getCachedData),\n/* harmony export */   getClientCachedData: () => (/* binding */ getClientCachedData),\n/* harmony export */   setCachedData: () => (/* binding */ setCachedData),\n/* harmony export */   setClientCachedData: () => (/* binding */ setClientCachedData)\n/* harmony export */ });\n// Server-side cache implementation\nconst cache = new Map();\nfunction getCachedData(key) {\n    const item = cache.get(key);\n    if (!item) return undefined;\n    if (Date.now() > item.expiry) {\n        cache.delete(key);\n        return undefined;\n    }\n    return item.data;\n}\nfunction setCachedData(key, data, ttlSeconds = 3600) {\n    const expiry = Date.now() + ttlSeconds * 1000;\n    cache.set(key, {\n        data,\n        expiry\n    });\n}\nfunction clearCache() {\n    cache.clear();\n}\n// Client-side cache implementation (using localStorage)\nfunction getClientCachedData(key) {\n    if (true) return undefined;\n    const item = localStorage.getItem(key);\n    if (!item) return undefined;\n    const { data, expiry } = JSON.parse(item);\n    if (Date.now() > expiry) {\n        localStorage.removeItem(key);\n        return undefined;\n    }\n    return data;\n}\nfunction setClientCachedData(key, data, ttlSeconds = 3600) {\n    if (true) return;\n    const expiry = Date.now() + ttlSeconds * 1000;\n    localStorage.setItem(key, JSON.stringify({\n        data,\n        expiry\n    }));\n}\nfunction clearClientCache() {\n    if (true) return;\n    localStorage.clear();\n}\nfunction generateCacheKey(prefix, params) {\n    const sortedParams = Object.keys(params).sort().map((key)=>`${key}:${params[key]}`).join('|');\n    return `${prefix}:${sortedParams}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NhY2hlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxtQ0FBbUM7QUFDbkMsTUFBTUEsUUFBUSxJQUFJQztBQUVYLFNBQVNDLGNBQWlCQyxHQUFXO0lBQzFDLE1BQU1DLE9BQU9KLE1BQU1LLEdBQUcsQ0FBQ0Y7SUFDdkIsSUFBSSxDQUFDQyxNQUFNLE9BQU9FO0lBRWxCLElBQUlDLEtBQUtDLEdBQUcsS0FBS0osS0FBS0ssTUFBTSxFQUFFO1FBQzVCVCxNQUFNVSxNQUFNLENBQUNQO1FBQ2IsT0FBT0c7SUFDVDtJQUVBLE9BQU9GLEtBQUtPLElBQUk7QUFDbEI7QUFFTyxTQUFTQyxjQUFpQlQsR0FBVyxFQUFFUSxJQUFPLEVBQUVFLGFBQXFCLElBQUk7SUFDOUUsTUFBTUosU0FBU0YsS0FBS0MsR0FBRyxLQUFNSyxhQUFhO0lBQzFDYixNQUFNYyxHQUFHLENBQUNYLEtBQUs7UUFBRVE7UUFBTUY7SUFBTztBQUNoQztBQUVPLFNBQVNNO0lBQ2RmLE1BQU1nQixLQUFLO0FBQ2I7QUFFQSx3REFBd0Q7QUFDakQsU0FBU0Msb0JBQXVCZCxHQUFXO0lBQ2hELElBQUksSUFBNkIsRUFBRSxPQUFPRztJQUUxQyxNQUFNRixPQUFPYyxhQUFhQyxPQUFPLENBQUNoQjtJQUNsQyxJQUFJLENBQUNDLE1BQU0sT0FBT0U7SUFFbEIsTUFBTSxFQUFFSyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxHQUFHVyxLQUFLQyxLQUFLLENBQUNqQjtJQUNwQyxJQUFJRyxLQUFLQyxHQUFHLEtBQUtDLFFBQVE7UUFDdkJTLGFBQWFJLFVBQVUsQ0FBQ25CO1FBQ3hCLE9BQU9HO0lBQ1Q7SUFFQSxPQUFPSztBQUNUO0FBRU8sU0FBU1ksb0JBQXVCcEIsR0FBVyxFQUFFUSxJQUFPLEVBQUVFLGFBQXFCLElBQUk7SUFDcEYsSUFBSSxJQUE2QixFQUFFO0lBRW5DLE1BQU1KLFNBQVNGLEtBQUtDLEdBQUcsS0FBTUssYUFBYTtJQUMxQ0ssYUFBYU0sT0FBTyxDQUFDckIsS0FBS2lCLEtBQUtLLFNBQVMsQ0FBQztRQUFFZDtRQUFNRjtJQUFPO0FBQzFEO0FBRU8sU0FBU2lCO0lBQ2QsSUFBSSxJQUE2QixFQUFFO0lBQ25DUixhQUFhRixLQUFLO0FBQ3BCO0FBRU8sU0FBU1csaUJBQWlCQyxNQUFjLEVBQUVDLE1BQTJCO0lBQzFFLE1BQU1DLGVBQWVDLE9BQU9DLElBQUksQ0FBQ0gsUUFDOUJJLElBQUksR0FDSkMsR0FBRyxDQUFDL0IsQ0FBQUEsTUFBTyxHQUFHQSxJQUFJLENBQUMsRUFBRTBCLE1BQU0sQ0FBQzFCLElBQUksRUFBRSxFQUNsQ2dDLElBQUksQ0FBQztJQUNSLE9BQU8sR0FBR1AsT0FBTyxDQUFDLEVBQUVFLGNBQWM7QUFDcEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jbGFyYWV2ZXJldHQvRGVza3RvcC9wZXJwbGV4aXR5L3NyYy9saWIvY2FjaGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2VydmVyLXNpZGUgY2FjaGUgaW1wbGVtZW50YXRpb25cbmNvbnN0IGNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHsgZGF0YTogYW55OyBleHBpcnk6IG51bWJlciB9PigpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVkRGF0YTxUPihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQge1xuICBjb25zdCBpdGVtID0gY2FjaGUuZ2V0KGtleSk7XG4gIGlmICghaXRlbSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBpZiAoRGF0ZS5ub3coKSA+IGl0ZW0uZXhwaXJ5KSB7XG4gICAgY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBpdGVtLmRhdGEgYXMgVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENhY2hlZERhdGE8VD4oa2V5OiBzdHJpbmcsIGRhdGE6IFQsIHR0bFNlY29uZHM6IG51bWJlciA9IDM2MDApOiB2b2lkIHtcbiAgY29uc3QgZXhwaXJ5ID0gRGF0ZS5ub3coKSArICh0dGxTZWNvbmRzICogMTAwMCk7XG4gIGNhY2hlLnNldChrZXksIHsgZGF0YSwgZXhwaXJ5IH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgY2FjaGUuY2xlYXIoKTtcbn1cblxuLy8gQ2xpZW50LXNpZGUgY2FjaGUgaW1wbGVtZW50YXRpb24gKHVzaW5nIGxvY2FsU3RvcmFnZSlcbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGllbnRDYWNoZWREYXRhPFQ+KGtleTogc3RyaW5nKTogVCB8IHVuZGVmaW5lZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgXG4gIGNvbnN0IGl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICBpZiAoIWl0ZW0pIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgeyBkYXRhLCBleHBpcnkgfSA9IEpTT04ucGFyc2UoaXRlbSk7XG4gIGlmIChEYXRlLm5vdygpID4gZXhwaXJ5KSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEgYXMgVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENsaWVudENhY2hlZERhdGE8VD4oa2V5OiBzdHJpbmcsIGRhdGE6IFQsIHR0bFNlY29uZHM6IG51bWJlciA9IDM2MDApOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIFxuICBjb25zdCBleHBpcnkgPSBEYXRlLm5vdygpICsgKHR0bFNlY29uZHMgKiAxMDAwKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh7IGRhdGEsIGV4cGlyeSB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNsaWVudENhY2hlKCk6IHZvaWQge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhY2hlS2V5KHByZWZpeDogc3RyaW5nLCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBzdHJpbmcge1xuICBjb25zdCBzb3J0ZWRQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpXG4gICAgLnNvcnQoKVxuICAgIC5tYXAoa2V5ID0+IGAke2tleX06JHtwYXJhbXNba2V5XX1gKVxuICAgIC5qb2luKCd8Jyk7XG4gIHJldHVybiBgJHtwcmVmaXh9OiR7c29ydGVkUGFyYW1zfWA7XG59XG4iXSwibmFtZXMiOlsiY2FjaGUiLCJNYXAiLCJnZXRDYWNoZWREYXRhIiwia2V5IiwiaXRlbSIsImdldCIsInVuZGVmaW5lZCIsIkRhdGUiLCJub3ciLCJleHBpcnkiLCJkZWxldGUiLCJkYXRhIiwic2V0Q2FjaGVkRGF0YSIsInR0bFNlY29uZHMiLCJzZXQiLCJjbGVhckNhY2hlIiwiY2xlYXIiLCJnZXRDbGllbnRDYWNoZWREYXRhIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInJlbW92ZUl0ZW0iLCJzZXRDbGllbnRDYWNoZWREYXRhIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNsZWFyQ2xpZW50Q2FjaGUiLCJnZW5lcmF0ZUNhY2hlS2V5IiwicHJlZml4IiwicGFyYW1zIiwic29ydGVkUGFyYW1zIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJtYXAiLCJqb2luIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/cache.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/openai.ts":
/*!***************************!*\
  !*** ./src/lib/openai.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   openai: () => (/* binding */ openai)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (openai);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL29wZW5haS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEI7QUFFckIsTUFBTUMsU0FBUyxJQUFJRCw4Q0FBTUEsQ0FBQztJQUMvQkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBQ3BDLEdBQUc7QUFFSCxpRUFBZUosTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2NsYXJhZXZlcmV0dC9EZXNrdG9wL3BlcnBsZXhpdHkvc3JjL2xpYi9vcGVuYWkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wZW5BSSBmcm9tICdvcGVuYWknO1xuXG5leHBvcnQgY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgb3BlbmFpOyJdLCJuYW1lcyI6WyJPcGVuQUkiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/openai.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pinecone.ts":
/*!*****************************!*\
  !*** ./src/lib/pinecone.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   indexArxivPaper: () => (/* binding */ indexArxivPaper),\n/* harmony export */   initializeIndex: () => (/* binding */ initializeIndex),\n/* harmony export */   queryVectorStore: () => (/* binding */ queryVectorStore)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pinecone-database/pinecone */ \"(rsc)/./node_modules/@pinecone-database/pinecone/dist/index.js\");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _langchain_openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/openai */ \"(rsc)/./node_modules/@langchain/openai/index.js\");\n/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cache */ \"(rsc)/./src/lib/cache.ts\");\n\n\n\n\n// Load environment variables from .env.local\ndotenv__WEBPACK_IMPORTED_MODULE_0__.config({\n    path: '.env.local'\n});\nif (!process.env.PINECONE_API_KEY) {\n    throw new Error('Missing PINECONE_API_KEY environment variable');\n}\nif (!process.env.OPENAI_API_KEY) {\n    throw new Error('Missing OPENAI_API_KEY environment variable');\n}\nconst PINECONE_INDEX_NAME = 'perplexity';\n// Initialize Pinecone client\nconst pinecone = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_1__.Pinecone({\n    apiKey: process.env.PINECONE_API_KEY\n});\n// Initialize OpenAI embeddings\nconst embeddings = new _langchain_openai__WEBPACK_IMPORTED_MODULE_2__.OpenAIEmbeddings({\n    openAIApiKey: process.env.OPENAI_API_KEY\n});\nconst wait = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nasync function waitForIndex(index, maxRetries = 5) {\n    for(let i = 0; i < maxRetries; i++){\n        try {\n            // Try a simple describe operation to check if the index is ready\n            await index.describeIndexStats();\n            return;\n        } catch (error) {\n            if (i === maxRetries - 1) throw error;\n            // Exponential backoff: 1s, 2s, 4s, 8s, 16s\n            const delay = Math.pow(2, i) * 1000;\n            console.log(`Index not ready, retrying in ${delay}ms...`);\n            await wait(delay);\n        }\n    }\n}\nasync function initializeIndex() {\n    const indexList = await pinecone.listIndexes();\n    if (!indexList.indexes?.find((index)=>index.name === PINECONE_INDEX_NAME)) {\n        await pinecone.createIndex({\n            name: PINECONE_INDEX_NAME,\n            dimension: 1536,\n            metric: 'cosine',\n            spec: {\n                serverless: {\n                    cloud: 'aws',\n                    region: 'us-west-2'\n                }\n            }\n        });\n        console.log('Created new Pinecone index:', PINECONE_INDEX_NAME);\n    }\n    const index = pinecone.Index(PINECONE_INDEX_NAME);\n    await waitForIndex(index);\n    return index;\n}\nasync function indexArxivPaper(content, metadata) {\n    const index = await initializeIndex();\n    const embedding = await embeddings.embedQuery(content);\n    await index.upsert([\n        {\n            id: metadata.paperId,\n            values: embedding,\n            metadata: {\n                ...metadata,\n                content\n            }\n        }\n    ]);\n}\nasync function queryVectorStore(query, topK = 3) {\n    // Check if we have a cached embedding for this query\n    const cacheKey = `query_embedding:${query}`;\n    let queryEmbedding = (0,_cache__WEBPACK_IMPORTED_MODULE_3__.getClientCachedData)(cacheKey);\n    if (!queryEmbedding) {\n        queryEmbedding = await embeddings.embedQuery(query);\n        (0,_cache__WEBPACK_IMPORTED_MODULE_3__.setClientCachedData)(cacheKey, queryEmbedding, 3600); // Cache for 1 hour\n    }\n    const index = pinecone.Index(PINECONE_INDEX_NAME);\n    const results = await index.query({\n        vector: queryEmbedding,\n        topK,\n        includeMetadata: true\n    });\n    return results.matches?.map((match)=>({\n            score: match.score,\n            metadata: match.metadata\n        })) || [];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7UUFDaENLLFFBQVFGO1FBQ1JGO1FBQ0FLLGlCQUFpQjtJQUNuQjtJQUVBLE9BQU9GLFFBQVFHLE9BQU8sRUFBRUMsSUFBSUMsQ0FBQUEsUUFBVTtZQUNwQ0MsT0FBT0QsTUFBTUMsS0FBSztZQUNsQmxCLFVBQVVpQixNQUFNakIsUUFBUTtRQUMxQixPQUFPLEVBQUU7QUFDWCIsInNvdXJjZXMiOlsiL1VzZXJzL2NsYXJhZXZlcmV0dC9EZXNrdG9wL3BlcnBsZXhpdHkvc3JjL2xpYi9waW5lY29uZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCB7IFBpbmVjb25lIH0gZnJvbSAnQHBpbmVjb25lLWRhdGFiYXNlL3BpbmVjb25lJztcbmltcG9ydCB7IE9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tICdAbGFuZ2NoYWluL29wZW5haSc7XG5pbXBvcnQgeyBnZXRDbGllbnRDYWNoZWREYXRhLCBzZXRDbGllbnRDYWNoZWREYXRhIH0gZnJvbSAnLi9jYWNoZSc7XG5cbi8vIExvYWQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZyb20gLmVudi5sb2NhbFxuZG90ZW52LmNvbmZpZyh7IHBhdGg6ICcuZW52LmxvY2FsJyB9KTtcblxuaWYgKCFwcm9jZXNzLmVudi5QSU5FQ09ORV9BUElfS0VZKSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBQSU5FQ09ORV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XG59XG5cbmlmICghcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XG59XG5cbmNvbnN0IFBJTkVDT05FX0lOREVYX05BTUUgPSAncGVycGxleGl0eSc7XG5cbi8vIEluaXRpYWxpemUgUGluZWNvbmUgY2xpZW50XG5jb25zdCBwaW5lY29uZSA9IG5ldyBQaW5lY29uZSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuUElORUNPTkVfQVBJX0tFWSxcbn0pO1xuXG4vLyBJbml0aWFsaXplIE9wZW5BSSBlbWJlZGRpbmdzXG5jb25zdCBlbWJlZGRpbmdzID0gbmV3IE9wZW5BSUVtYmVkZGluZ3Moe1xuICBvcGVuQUlBcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxufSk7XG5cbmNvbnN0IHdhaXQgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbmFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JJbmRleChpbmRleDogYW55LCBtYXhSZXRyaWVzID0gNSk6IFByb21pc2U8dm9pZD4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFJldHJpZXM7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgYSBzaW1wbGUgZGVzY3JpYmUgb3BlcmF0aW9uIHRvIGNoZWNrIGlmIHRoZSBpbmRleCBpcyByZWFkeVxuICAgICAgYXdhaXQgaW5kZXguZGVzY3JpYmVJbmRleFN0YXRzKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGkgPT09IG1heFJldHJpZXMgLSAxKSB0aHJvdyBlcnJvcjtcbiAgICAgIC8vIEV4cG9uZW50aWFsIGJhY2tvZmY6IDFzLCAycywgNHMsIDhzLCAxNnNcbiAgICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5wb3coMiwgaSkgKiAxMDAwO1xuICAgICAgY29uc29sZS5sb2coYEluZGV4IG5vdCByZWFkeSwgcmV0cnlpbmcgaW4gJHtkZWxheX1tcy4uLmApO1xuICAgICAgYXdhaXQgd2FpdChkZWxheSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplSW5kZXgoKSB7XG4gIGNvbnN0IGluZGV4TGlzdCA9IGF3YWl0IHBpbmVjb25lLmxpc3RJbmRleGVzKCk7XG4gIFxuICBpZiAoIWluZGV4TGlzdC5pbmRleGVzPy5maW5kKGluZGV4ID0+IGluZGV4Lm5hbWUgPT09IFBJTkVDT05FX0lOREVYX05BTUUpKSB7XG4gICAgYXdhaXQgcGluZWNvbmUuY3JlYXRlSW5kZXgoe1xuICAgICAgbmFtZTogUElORUNPTkVfSU5ERVhfTkFNRSxcbiAgICAgIGRpbWVuc2lvbjogMTUzNiwgLy8gT3BlbkFJIGVtYmVkZGluZ3MgZGltZW5zaW9uXG4gICAgICBtZXRyaWM6ICdjb3NpbmUnLFxuICAgICAgc3BlYzoge1xuICAgICAgICBzZXJ2ZXJsZXNzOiB7XG4gICAgICAgICAgY2xvdWQ6ICdhd3MnLFxuICAgICAgICAgIHJlZ2lvbjogJ3VzLXdlc3QtMidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIG5ldyBQaW5lY29uZSBpbmRleDonLCBQSU5FQ09ORV9JTkRFWF9OQU1FKTtcbiAgfVxuICBcbiAgY29uc3QgaW5kZXggPSBwaW5lY29uZS5JbmRleChQSU5FQ09ORV9JTkRFWF9OQU1FKTtcbiAgYXdhaXQgd2FpdEZvckluZGV4KGluZGV4KTtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFyeGl2TWV0YWRhdGEge1xuICBwYXBlcklkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGF1dGhvcnM6IHN0cmluZ1tdO1xuICBjYXRlZ29yaWVzOiBzdHJpbmdbXTtcbiAgcHVibGlzaGVkOiBzdHJpbmc7XG4gIHN1bW1hcnk/OiBzdHJpbmc7XG4gIHVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluZGV4QXJ4aXZQYXBlcihjb250ZW50OiBzdHJpbmcsIG1ldGFkYXRhOiBBcnhpdk1ldGFkYXRhKSB7XG4gIGNvbnN0IGluZGV4ID0gYXdhaXQgaW5pdGlhbGl6ZUluZGV4KCk7XG4gIGNvbnN0IGVtYmVkZGluZyA9IGF3YWl0IGVtYmVkZGluZ3MuZW1iZWRRdWVyeShjb250ZW50KTtcbiAgXG4gIGF3YWl0IGluZGV4LnVwc2VydChbe1xuICAgIGlkOiBtZXRhZGF0YS5wYXBlcklkLFxuICAgIHZhbHVlczogZW1iZWRkaW5nLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAuLi5tZXRhZGF0YSxcbiAgICAgIGNvbnRlbnRcbiAgICB9XG4gIH1dKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5VmVjdG9yU3RvcmUocXVlcnk6IHN0cmluZywgdG9wSzogbnVtYmVyID0gMykge1xuICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgY2FjaGVkIGVtYmVkZGluZyBmb3IgdGhpcyBxdWVyeVxuICBjb25zdCBjYWNoZUtleSA9IGBxdWVyeV9lbWJlZGRpbmc6JHtxdWVyeX1gO1xuICBsZXQgcXVlcnlFbWJlZGRpbmcgPSBnZXRDbGllbnRDYWNoZWREYXRhPG51bWJlcltdPihjYWNoZUtleSk7XG5cbiAgaWYgKCFxdWVyeUVtYmVkZGluZykge1xuICAgIHF1ZXJ5RW1iZWRkaW5nID0gYXdhaXQgZW1iZWRkaW5ncy5lbWJlZFF1ZXJ5KHF1ZXJ5KTtcbiAgICBzZXRDbGllbnRDYWNoZWREYXRhKGNhY2hlS2V5LCBxdWVyeUVtYmVkZGluZywgMzYwMCk7IC8vIENhY2hlIGZvciAxIGhvdXJcbiAgfVxuXG4gIGNvbnN0IGluZGV4ID0gcGluZWNvbmUuSW5kZXgoUElORUNPTkVfSU5ERVhfTkFNRSk7XG4gIFxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgaW5kZXgucXVlcnkoe1xuICAgIHZlY3RvcjogcXVlcnlFbWJlZGRpbmcsXG4gICAgdG9wSyxcbiAgICBpbmNsdWRlTWV0YWRhdGE6IHRydWUsXG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHRzLm1hdGNoZXM/Lm1hcChtYXRjaCA9PiAoe1xuICAgIHNjb3JlOiBtYXRjaC5zY29yZSxcbiAgICBtZXRhZGF0YTogbWF0Y2gubWV0YWRhdGEgYXMgQXJ4aXZNZXRhZGF0YVxuICB9KSkgfHwgW107XG59Il0sIm5hbWVzIjpbImRvdGVudiIsIlBpbmVjb25lIiwiT3BlbkFJRW1iZWRkaW5ncyIsImdldENsaWVudENhY2hlZERhdGEiLCJzZXRDbGllbnRDYWNoZWREYXRhIiwiY29uZmlnIiwicGF0aCIsInByb2Nlc3MiLCJlbnYiLCJQSU5FQ09ORV9BUElfS0VZIiwiRXJyb3IiLCJPUEVOQUlfQVBJX0tFWSIsIlBJTkVDT05FX0lOREVYX05BTUUiLCJwaW5lY29uZSIsImFwaUtleSIsImVtYmVkZGluZ3MiLCJvcGVuQUlBcGlLZXkiLCJ3YWl0IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ3YWl0Rm9ySW5kZXgiLCJpbmRleCIsIm1heFJldHJpZXMiLCJpIiwiZGVzY3JpYmVJbmRleFN0YXRzIiwiZXJyb3IiLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJjb25zb2xlIiwibG9nIiwiaW5pdGlhbGl6ZUluZGV4IiwiaW5kZXhMaXN0IiwibGlzdEluZGV4ZXMiLCJpbmRleGVzIiwiZmluZCIsIm5hbWUiLCJjcmVhdGVJbmRleCIsImRpbWVuc2lvbiIsIm1ldHJpYyIsInNwZWMiLCJzZXJ2ZXJsZXNzIiwiY2xvdWQiLCJyZWdpb24iLCJJbmRleCIsImluZGV4QXJ4aXZQYXBlciIsImNvbnRlbnQiLCJtZXRhZGF0YSIsImVtYmVkZGluZyIsImVtYmVkUXVlcnkiLCJ1cHNlcnQiLCJpZCIsInBhcGVySWQiLCJ2YWx1ZXMiLCJxdWVyeVZlY3RvclN0b3JlIiwicXVlcnkiLCJ0b3BLIiwiY2FjaGVLZXkiLCJxdWVyeUVtYmVkZGluZyIsInJlc3VsdHMiLCJ2ZWN0b3IiLCJpbmNsdWRlTWV0YWRhdGEiLCJtYXRjaGVzIiwibWFwIiwibWF0Y2giLCJzY29yZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pinecone.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ms","vendor-chunks/formdata-node","vendor-chunks/@pinecone-database","vendor-chunks/@langchain","vendor-chunks/openai","vendor-chunks/semver","vendor-chunks/zod-to-json-schema","vendor-chunks/langsmith","vendor-chunks/form-data-encoder","vendor-chunks/@cfworker","vendor-chunks/uuid","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/js-tiktoken","vendor-chunks/tr46","vendor-chunks/dotenv","vendor-chunks/zod","vendor-chunks/web-streams-polyfill","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/humanize-ms","vendor-chunks/eventemitter3","vendor-chunks/event-target-shim","vendor-chunks/decamelize","vendor-chunks/camelcase","vendor-chunks/base64-js","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fclaraeverett%2FDesktop%2Fperplexity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();